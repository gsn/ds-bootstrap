<div class="hidden-meta" data-gsn-title="{{ChainName}} | Register to Save">
</div>
<div class="col-md-12" data-ctrl-registration="">
  <h1>
    Registration
  </h1>
  <form data-ng-hide="isLoggedIn" data-ng-submit="registerProfile()" name="myForm" role="form">
    <div class="row">
      <div class="col-md-6">
        <div class="form-group" data-ng-class="{'has-success': !myForm.primarystoreid.$invalid, 'has-error': myForm.primarystoreid.$invalid || !profile.PrimaryStoreId}">
          <label for="primarystoreid">
            Choose a store: *
          </label>
          <br/>
          <select class="form-control" data-ng-model="profile.PrimaryStoreId" data-ng-options="store.StoreId as store.StoreName for store in stores" data-ng-required="true" name="primarystoreid">
            <option style="display: none" value="">
              -- choose a store --
            </option>
          </select>
        </div>
        <div class="form-group has-feedback" data-ng-class="{'has-success': !myForm.firstname.$invalid, 'has-error': myForm.firstname.$invalid}">
          <label for="firstname">
            First Name:
            <span class="required" data-ng-show="myForm.firstname.$invalid">
              *
            </span>
          </label>
          <input class="form-control" data-ng-model="profile.FirstName" data-ng-required="true" name="firstname" placeholder="Enter first name" type="text"/>
          <span class="glyphicon form-control-feedback" data-ng-class="{'glyphicon-ok': !myForm.firstname.$invalid, 'glyphicon-remove': myForm.firstname.$invalid}">
          </span>
        </div>
        <div class="form-group has-feedback" data-ng-class="{'has-success': !myForm.lastname.$invalid, 'has-error': myForm.lastname.$invalid}">
          <label for="lastname">
            Last Name:
            <span class="required" data-ng-show="myForm.lastname.$invalid">
              *
            </span>
          </label>
          <input class="form-control" data-ng-model="profile.LastName" data-ng-required="true" name="lastname" placeholder="Enter last name" type="text"/>
          <span class="glyphicon form-control-feedback" data-ng-class="{'glyphicon-ok': !myForm.lastname.$invalid, 'glyphicon-remove': myForm.lastname.$invalid}">
          </span>
        </div>
        <div class="form-group has-feedback" data-ng-class="{'has-success': !myForm.email.$invalid, 'has-error': myForm.email.$invalid}" data-ng-if="!isFacebook">
          <label for="email">
            Email address:
            <span class="required" data-ng-show="myForm.email.$invalid">
              *
            </span>
          </label>
          <input class="form-control" data-gsn-valid-user="required" data-ng-model="profile.Email" data-ng-required="true" name="email" placeholder="Enter email address" type="email"/>
          <span class="glyphicon form-control-feedback" data-ng-class="{'glyphicon-ok': !myForm.email.$invalid, 'glyphicon-remove': myForm.email.$invalid}">
          </span>
          <p class="help-block emailInvalid" data-ng-show="myForm.email.$error.gsnValidUser">
            Email is invalid or not available.
          </p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group password has-feedback" data-ng-class="{'has-success': !myForm.password.$invalid, 'has-error': myForm.password.$invalid}" data-ng-if="!isFacebook">
          <label for="password">
            Password:
            <span class="required" data-ng-show="myForm.password.$invalid">
              *
            </span>
          </label>
          <input class="form-control passwordText" data-ng-minlength="6" data-ng-model="profile.Password" data-ng-required="true" name="password" placeholder="Enter password" type="password"/>
          <span class="glyphicon form-control-feedback" data-ng-class="{'glyphicon-ok': !myForm.password.$invalid, 'glyphicon-remove': myForm.password.$invalid}">
          </span>
          <p data-ng-show="myForm.password.$error.minlength">
            * Must be at least 6 characters.
          </p>
        </div>
        <div class="form-group confirm has-feedback" data-ng-class="{'has-success': !myForm.confirmPassword.$invalid, 'has-error': myForm.confirmPassword.$invalid}" data-ng-if="!isFacebook">
          <label for="confirmPassword">
            Confirm Password:
            <span class="required" data-ng-show="myForm.confirmPassword.$invalid">
              *
            </span>
          </label>
          <input class="form-control passwordText" data-ng-model="profile.confirmPassword" data-ng-required="true" data-ui-validate=" '$value==profile.Password' " data-ui-validate-watch=" 'profile.Password' " name="confirmPassword" placeholder="Confirm password" type="password"/>
          <span class="glyphicon form-control-feedback" data-ng-class="{'glyphicon-ok': !myForm.confirmPassword.$invalid, 'glyphicon-remove': myForm.confirmPassword.$invalid}">
          </span>
          <p data-ng-show="myForm.confirmPassword.$error.validator">
            * Confirm password must match.
          </p>
        </div>
        <div class="form-group" data-gsn-ft-config="rewardcard">
          <div data-ng-if="item.Description" data-ng-include="'//clientapi.gsn2.com/api/v1/content/meta/' + gsnApi.getChainId() + '/?name=home page&meta=rewardcard&type=text/html'">
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="form-group checkbox">
          <label>
            <input data-ng-model="profile.ReceiveEmail" name="receiveemail" type="checkbox"/>
            Receive Weekly Email - Yes, I'd like to receive specials, recipe of the week, events, coupon savings, weekly circular, and featured articles.
          </label>
          <br/>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="form-group">
          <div data-gsn-spinner="{radius:30, width:8, length: 16}" data-show-if="isSubmitting">
          </div>
          <button class="btn btn-default" data-ng-click="goBack()" tabindex="-1" type="button">
            Cancel
          </button>
          <button class="btn btn-default" type="submit">
            Continue
          </button>
        </div>
      </div>
    </div>
    <div class="row col-md-12">
      * Indicates required field
    </div>
  </form>
  <div data-ng-show="isLoggedIn">
    <h3>
      Thank you for your registration.
    </h3>
    <div class="form-group">
      <button class="btn btn-default" data-ng-click="goUrl('/')">
        Go to Home Page
      </button>
      <button class="btn btn-default" data-ng-click="goUrl('/profile')">
        Go to Profile Page
      </button>
    </div>
  </div>
</div>
