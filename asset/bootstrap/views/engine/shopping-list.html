<div class="hidden-meta" data-gsn-title="{{ChainName}} | My Shopping List">
</div>
<div class="col-md-12" data-ctrl-shopping-list="" data-gsn-shopping-list="">
  <div data-gsn-spinner="{radius:30, width:8, length: 16}" data-show-if="!mylist.hasLoaded()">
  </div>
  <h1>
    My Shopping List
  </h1>
  <div class="row">
    <div class="col-md-4">
      <div class="input-group addItemManage">
        <input class="form-control" data-ng-model="addString" placeholder="add own item" type="text" ui-keypress="{13:'doAddOwnItem()'}">
          <span class="input-group-btn">
            <button class="btn btn-default" data-ng-click="doAddOwnItem()" type="button">
              <i class="fa fa-plus-circle">
              </i>
            </button>
          </span>
        </input>
      </div>
    </div>
    <div class="col-md-8">
      <div class="btn-group" data-ng-show="mylist.hasLoaded()">
        <button class="btn btn-default btn-sm" data-ng-click="goUrl('/mylist/print')" type="button">
          <i class="fa fa-print">
          </i>
          <br/>
          Print
        </button>
        <button class="btn btn-default btn-sm" data-ng-click="goUrl('/mylist/email')" type="button">
          <i class="fa fa-envelope">
          </i>
          <br/>
          Email
        </button>
        <button class="btn btn-default btn-sm" data-ng-click="goUrl('/savedlists')" type="button">
          <i class="fa fa-folder-open">
          </i>
          <br/>
          Previous
        </button>
      </div>
    </div>
  </div>
</div>
<button class="btn btn-default btn-sm" data-gsn-modal="getThemeUrl('/views/engine/modal-shopping-list-title.html')" data-ng-click="doIfLoggedIn(showModal)" type="button">
  <i class="fa fa-file">
  </i>
  <br/>
  Save
</button>
<button class="btn btn-default btn-sm" data-ng-click="deleteCurrentList()" type="button">
  <i class="fa fa-minus-circle">
  </i>
  <br/>
  Delete
</button>
<button class="btn btn-default btn-sm" data-ng-click="startNewList()" type="button">
  <i class="fa fa-plus-circle">
  </i>
  <br/>
  New
</button>
<div data-ng-if="groupItem.fitems.length > 0" data-ng-repeat="groupItem in allItems">
  <div class="row">
    <div class="col-md-8 col-xs-8">
      <h4>
        {{groupItem.key}}
      </h4>
    </div>
    <div class="col-md-4 col-xs-4">
      <h4>
        Quantity
      </h4>
    </div>
  </div>
  <div class="row thumbnail" data-ng-repeat="item in groupItem.fitems">
    <div class="col-md-8 col-xs-8">
      <div class="pull-left" style="padding-right: 5px;">
        <img data-ng-src="{{item.SmallImageUrl || getThemeUrl('/images/no_image.jpg')}}" style="width: 60px"/>
      </div>
      <span data-ng-if="item.IsCoupon">
        <img data-ng-show="item.ItemTypeId == 13" data-ng-src="{{getThemeUrl('/images/manufacturercouponicon.gif')}}"/>
        <img data-ng-show="item.ItemTypeId == 2" data-ng-src="{{getThemeUrl('/images/manufacturercouponicon.gif')}}"/>
        {{item.PriceString}}
      </span>
      <div data-ng-bind-html="item.Description">
      </div>
      <div class="price" data-ng-hide="item.IsCoupon">
        {{item.PriceString}}
      </div>
      <div data-ng-show="item.ItemTypeId == 13">
        Redeemable one time only.
      </div>
      <input data-ng-hide="item.IsCoupon" data-ng-model="item.Comment" placeholder="Comment" style="height: 20px;" ui-keypress="{13:'doUpdateQuantity(item)'}"/>
    </div>
    <div class="col-md-4 col-xs-4">
      <input class="btn btn-xs quantity" data-ng-model="item.NewQuantity" data-ng-show="!item.IsCoupon" name="quantity" style="width: 35px"/>
      <button class="btn btn-default btn-xs" data-ng-click="doUpdateQuantity(item)" data-ng-hide="item.IsCoupon">
        Update
      </button>
      <button class="btn btn-default btn-xs" data-ng-click="doItemRemove(item)">
        Remove
      </button>
    </div>
  </div>
</div>
