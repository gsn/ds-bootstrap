<div class="modal-content" data-ctrl-recovery="">
  <form data-ng-hide="hasSubmitted && !isSubmitting && isValidSubmit" data-ng-init="captcha = {}" data-ng-submit="recoverUsername()" name="myRecoveryForm" role="form">
    <div  id="modalTitle"class="modal-header">
      <h1 id="modalTitle">
        Recover Username
      </h1>
    </div>
    <div class="modal-body">
      <div class="form-group has-feedback" data-ng-class="{'has-success': !myRecoveryForm.usernameField.$invalid, 'has-error': myRecoveryForm.usernameField.$invalid}">
        <input class="form-control" data-ng-model="profile.Email" data-ng-required="true" name="usernameField" placeholder="Enter email address" type="email"/>
        <span class="glyphicon form-control-feedback" data-ng-class="{'glyphicon-ok': !myRecoveryForm.usernameField.$invalid, 'glyphicon-remove': myRecoveryForm.usernameField.$invalid}">
        </span>
        <p class="help-block" data-ng-show="myRecoveryForm.usernameField.$invalid">
          * The email address is invalid.
        </p>
      </div>
      <div class="form-group has-feedback" data-ng-class="{'has-success': !myRecoveryForm.usernameConfirmField.$invalid, 'has-error': myRecoveryForm.usernameConfirmField.$invalid}">
        <input class="form-control" data-ng-model="profile.ConfirmEmail" data-ng-required="true" data-ui-validate=" '$value == profile.Email' " data-ui-validate-watch=" 'profile.Email' " name="usernameConfirmField" placeholder="Confirm email address" type="email"/>
        <span class="glyphicon form-control-feedback" data-ng-class="{'glyphicon-ok': !myRecoveryForm.usernameConfirmField.$invalid, 'glyphicon-remove': myRecoveryForm.usernameConfirmField.$invalid}">
        </span>
        <p class="help-block" data-ng-show="myRecoveryForm.usernameConfirmField.$error.validator">
          * The confirm email address must match.
        </p>
      </div>
      <div class="form-group" data-ng-show="hasSubmitted && !isSubmitting && !isValidSubmit">
        <div class="alert alert-danger">
          The server was unable validate or locate user associated with your entry, please try again.
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <div class="pull-right">
        <div data-gsn-spinner="{radius:30, width:8, length: 16}" data-show-if="isSubmitting">
        </div>
        <button class="btn btn-default" data-ng-click="closeModal()" tabindex="-1" type="button">
          Cancel
        </button>
        <button class="btn btn-default" type="submit">
          Submit
        </button>
      </div>
      <div class="pull-right" data-ng-show="hasSubmitted && !isSubmitting && isValidSubmit">
        <h4>
          Recover username successful.
        </h4>
        <button class="btn btn-default" data-ng-click="closeModal()" tabindex="-1" type="button">
          Cancel
        </button>
      </div>
    </div>
  </form>
</div>
